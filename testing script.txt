Testing Script

Run all the JUnit tests, making sure to enable assertions. (-ea in JVM args)

Installer tests:
There's no need to uninstall between every test, I think.

***** Run these with the MSDE installer but not installing MSDE, and
with the non-MSDE installer:

**Try installing with no SQL Server on the computer.
__An error message should pop up saying it couldn't find an SQL Server on 
the computer.  Installation should abort.

**Try installing with SQL Server installed but the SpASMS login not present.
(To do this from command line:  run osql -E and then type:
drop database SpASMSdb
go
exec sp_droplogin SpASMS
go
.)
__Should make the login, SpASMS/finally, with sysadmin.  Installation should
	continue as normal, and Enchilada should be able to
		__1. make the database
		__2. aggregate particles (i.e. use the tempdb database)

**Try installing with SQL Server installed and the SpASMS login present.
__should work.
		__1. make the database
		__2. aggregate particles
		
**Install old version of Enchilada, create new database.
  Install new version of Enchilada.
__Should pop up a window warning of database incompatibility and let the user
		__1. rebuild database to create new version
		__2. quit without touching current database (so old version of Enchilada
		can run with the db)

**Try installing with an old version of Java present.
__Should get appropriate error message.

**Try installing with Java completely uninstalled.
__Should get appropriate error message.
 

***** Uninstall test:

**Try uninstalling.
__should not leave behind anything in the program directory.
	also:
		__desktop icon and start menu group should be gone


***** With the MSDE installer:

**Try installing with MSDE.
__should work, and Enchilada should be able to:
		__1. make the database
		__2. aggregate particles.
		__3. import atofms using a config file (i.e. opencsv made it into the jar)
	The installer:
		__Should not leave behind a directory like c:\msde-install-temp

**Try installing with MSDE with a copy of SQL Server already on the system.
__should say something informative, and abort.
		__Should not leave behind a directory like c:\msde-install-temp


Uninstall test:

**Try uninstalling.
__should not leave behind anything in the program directory.
	also:
		__desktop icon and start menu group should be gone
		

GUI tests:

**Import the collections from \\collab.its.carleton.edu\COLLAB\Projects\EDAM\test data
into one parent collection.
Actually, it should be a lot faster to do this from the external hard drive, so there would be fine.
	__parent collection created with children collections

**Try importing something that doesn't exist and something that does exist using
ATOFMS batch import.
	__correct files should import
	__should not hang or anything
	__should tell you that import failed on t'other ones (doesn't work, aug2006)

**Test drop down box for viewing 1000 particles at a time
	__box works as expected
	
**Try analyzing a particle from one collection
switch the selected collection in the main Enchilada window (to a smaller collection)
check the next & prev buttons for 
		__correct next & prev particles
		__enabling/disabling of buttons appropriately
		__displaying a particle with a higher row number than exists in showing collection
		(Go to one of the last particles in the large collection. Switch the main
		window's selected collection to a smaller one.  Click "next" and it should
		advance without a hitch.) 
		__spectrum view works
		__zoom in spectrum view works
		__highlighting peak with mouse causes peak in list on top right to highlight when in peak view
		__highlighting peak with mouse causes peak in list on top right to highlight when in spectrum view
		__highlighting peak with mouse causes labels to update when in peak view
		__highlighting peak with mouse causes labels to update when in spectrum view
		__Verify that the stuff ParticleAnalyzeWindow prints out appears in the "Output" window (should be hiding behind the main Enchilada window).
		

**Try zooming in on time-series of only one datapoint
	__zooming in works.
	__zooming out works. (doesn't work for aug 2006 release) :-(

**Try clustering a small collection. Check that
	__clustering works with these parameters:
		__By a column from sparse info (eg. Peak Area)
		__K-cluster, normalized.
		__10 clusters
		__no refined centroids
	__clustering completes without errors
	__leaves behind subcollections for each cluster
	__creates an extra collection with cluster centroids
	__each cluster centroid can be visualized by double clicking on it
**Repeat for each type of clustering.
	
**Try aggregating the small collection. Check that
	__Time Basis: Selected Collection runs without errors
	__Time Basis: Times runs without errors
	
**Try clustering the large collection with K-Means and refine centroids.
	__clustering happens.

**Try aggregating the large collection.
	__aggregation happens.
	
**Try aggregating the small and large collections together.
	__aggregation happens.

**Try cancel button in aggregation dialog before aggregating the small and large collections together.
	__cancel works.
	
**Try aggregating the small and large collections together with a 'time series' collection(EC, BC, hg0).
	__aggregation happens.

	
**Try "Help, About Enchilada". Check that
	__It indicates the current version
	
**Import the small.task time series file \\collab.its.carleton.edu\COLLAB\Projects\EDAM\test data\\timeseries
Verify that:
	__Time series imports successfully
	
**Import AMS data from \\collab.its.carleton.edu\COLLAB\Projects\EDAM\test data\\ams
Choose Nitrate_MS.txt, t_series.txt, amus.txt. Verify that:
	__AMS data imports successfully
	
**Try to import an existing datatype in the metadata format.  Use \\collab.its.carleton.edu\COLLAB\Projects\EDAM\test data\AMS.md
(Note that this is not a complete .md file - just enough to catch the problem.)
Enchilada should
	__Pop up a message informing the user that the datatype name is already in use.
	
Check the Task manager for extra javaw.exe's running.  If there are some, then
something's wrong.